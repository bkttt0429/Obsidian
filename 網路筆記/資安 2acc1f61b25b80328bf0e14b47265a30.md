# 資安

上次編輯時間: 2025年12月19日 下午2:04
建立時間: 2025年11月15日 下午6:21

---

# 📘 **Chapter 6：網路安全 重點筆記**

---

# 🔐 **6.1 資安三原則（CIA）**

### **1）Confidentiality（機密性）**

防止未經授權的存取或資料外洩。

⭐「資料被看到算破功」

應用例子：加密、存取控制、VPN、HTTPS。

---

### **2）Integrity（完整性）**

資料不可被竄改，傳輸／儲存過程中需保持正確。

⭐「資料要保持原樣」

常見技術：

- 雜湊（SHA-256）
- MAC、HMAC
- 數位簽章

---

### **3）Availability（可用性）**

系統與資料隨時能被合法使用者取得。

⭐「系統要能運作」

常見威脅：

- DDoS
- 裝置故障
- 系統資源耗盡

防禦：備援、負載平衡、頻寬管理、異地備援。

---

💡 **補充：ISO/IEC 27001**

國際資訊安全管理系統標準（ISMS）

包含系統架構、維護、風險管理等要求。

📌 可能出現在選擇題。

---

# 🔐 **6.2 加密、解密技術（Encryption / Decryption）**

---

## **（一）對稱式加密 Symmetric Encryption**

- 加密與解密使用同一把金鑰（Key）
- **速度快 → 適合大量資料**
- 缺點：金鑰分配困難

常見演算法

- **AES（最常考）**
- DES / 3DES（較舊）

---

## **（二）非對稱式加密 Asymmetric Encryption**

- 公鑰（公開）加密
- 私鑰（自己保管）解密
- 速度慢 → 多用於金鑰交換

常見演算法

- **RSA（最常考）**
- ECC（較新）

用途：

- 數位簽章
- 金鑰交換（搭配對稱式）

### ###流程

- **Sender (傳送方)：** Google 網站伺服器 (擁有 Google 私鑰)
- **Receiver (接收方)：** 您的 Chrome 瀏覽器 (內建 CA 的公鑰)
- **CA (公證方)：** 憑證中心 (發證者)

---

### 第一階段：準備工作 (Sender 拿到身分證)

*這就是您剛剛理解的部分，Sender 先向 CA 申請好憑證。*

1. 打包資料 (To-Be-Signed Info)：
    
    資料包 = [ Google網址 + Google公鑰 + 到期日 + CA名稱... ]
    
2. **CA 簽署：**
    - `Hash A (標準答案) = SHA256( 資料包 )`
    - `數位簽章 = 用 CA 私鑰加密 ( Hash A )`
3. 成品：
    
    Google 數位憑證 = 資料包 (明文) + 數位簽章
    

---

### 第二階段：握手與傳送 (Sender $\rightarrow$ Receiver)

*您打開瀏覽器輸入 `https://www.google.com`，連線開始。*

1. **Hello：** Receiver 跟 Sender 說：「哈囉，我要跟你建立安全連線，請證明你是 Google。」
2. **傳送憑證：** Sender 把剛剛做好的 **`Google 數位憑證`** 整包傳給 Receiver。
    - *注意：這時候傳過來的是「明文資料包」加上「簽章」，Receiver 還不知道這是不是真的。*

---

### 第三階段：驗證身分 (Receiver 進行「比對遊戲」)

*這是最關鍵的一步，Receiver 要確認憑證沒被竄改，且 Google 公鑰是真的。*

1. 拆解憑證：
    
    Receiver 把收到的憑證分成兩部分：資料包 (明文) 和 數位簽章。
    
2. 取得 Hash A (標準答案)：
    
    Receiver 拿出內建在電腦裡的 CA 公鑰，對簽章進行解密。
    
    - 公式：`Hash A = 用 CA 公鑰解密 ( 數位簽章 )`
    - *意義：如果解得開，代表這真的是 CA 簽的。*
3. 計算 Hash B (現場驗證)：
    
    Receiver 看著收到的 資料包 (明文)，用同樣的 SHA256 算法自己算一次。
    
    - 公式：`Hash B = SHA256( 資料包 )`
    - *注意：這裡算的時候，把「Google 公鑰」也一起算進去了！*
4. **比對：**
    - **判斷：** `Hash A == Hash B` ？
    - **結果：** 如果相等，代表**「資料包」**裡的**「Google 公鑰」**是正版且未被竄改的。Receiver 現在可以信任這個公鑰了！

---

### 第四階段：建立加密通道 (開始講悄悄話)

*身分驗證通過後，才開始真正傳送網頁資料。這時會用到剛剛驗證過的「Google 公鑰」。*

1. 產生金鑰：
    
    Receiver 隨機產生一把**「會話金鑰 (Session Key)」**（這是對稱式金鑰，像是一把只能用一次的超強保險箱鑰匙）。
    
2. 加密傳送：
    
    Receiver 用剛剛驗證過的 Google 公鑰，把這把「會話金鑰」鎖起來傳給 Sender。
    
    - 公式：`加密訊息 = 用 Google 公鑰加密 ( 會話金鑰 )`
3. Sender 解密：
    
    Sender 收到後，用只有自己有的 Google 私鑰 打開。
    
    - 公式：`會話金鑰 = 用 Google 私鑰解密 ( 加密訊息 )`
4. 完成：
    
    現在 Sender 和 Receiver 手上都有同一把**「會話金鑰」**。之後傳送的照片、文字、密碼，都改用這把金鑰進行快速加密傳輸（對稱式加密）。
    

---

### 總結圖解

您看，整個流程的核心就在於**「保護那把公鑰」**：

1. **資料包**裡包著 **Sender 公鑰**。
2. **Hash** 鎖住了 **資料包**（確保公鑰沒被掉包）。
3. **CA 私鑰** 鎖住了 **Hash**（確保是權威認證）。
4. **Receiver** 驗證成功後，才能放心地用 **Sender 公鑰** 來傳送最機密的 **會話金鑰**。

---

## **（三）雜湊 Hash（不可逆）**

- 用於完整性驗證
- 無法反推原文
- 常見演算法：**SHA-256**

用途：

- 密碼儲存
- 完整性檢查（Integrity）

---

## **（四）數位簽章 Digital Signature**

提供：

- **完整性**
- **不可否認性（Non-repudiation）**
- **驗證來源（authentication）**

流程：

1. 對訊息產生 Hash
2. 用私鑰簽章
3. 收件者用公鑰驗證

---

## **（五）PKI 基礎架構**

- CA（憑證機構）
- 公私鑰管理
- SSL/TLS 皆依賴 PKI

---

# 💥 **6.3 常見網路攻擊手法**

---

## **（一）DoS / DDoS 攻擊**

- 瘫痪系統，使合法使用者無法使用（破壞可用性 Availability）

---

## **（二）中間人攻擊 MITM**

攔截雙方的通訊進行竄改或窺探

防禦：

- HTTPS / TLS
- 憑證驗證

---

## **（三）ARP Spoofing / DNS Spoofing**

攻擊者透過偽造 ARP/DNS 回應達成流量導向（MITM）

---

## **（四）SQL Injection**

在輸入欄位注入惡意 SQL

防禦：

- prepared statement
- 避免字串拼接 SQL

---

## **（五）XSS（跨網站腳本攻擊）**

讓瀏覽器執行惡意 JavaScript

三類：Reflected / Stored / DOM-based

防禦：輸出前做 escape（HTML escape）

---

## **（六）Session Hijacking**

竊取 Session ID

防禦：HTTPS、SameSite Cookie、SID 重生、HttpOnly

---

## **（七）密碼攻擊**

- 暴力破解
- 字典攻擊
- Rainbow table

防禦：

- 強制密碼複雜度
- 加鹽（Salt）+ 雜湊

---